# 旅游行业管理与运行调度系统 - 测试用例文档

## 测试环境说明

- **操作系统**: Windows 10 / Linux / macOS
- **JDK版本**: 17或更高版本
- **数据库**: MySQL 5.7+
- **应用服务器**: Spring Boot内嵌Tomcat
- **服务端口**: 8080
- **测试工具**: Postman / 浏览器开发者工具 / API测试工具
- **浏览器**: Chrome / Firefox / Edge (最新版本)

---

## 一、用户管理模块测试用例

### TC-001: 获取所有用户列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-001 |
| **测试环境** | 开发环境/测试环境，后端服务已启动，数据库已连接 |
| **前提条件** | 1. 系统已启动并正常运行<br>2. 数据库中已存在用户数据（系统初始化数据）<br>3. 能够访问后端API（http://localhost:8080） |
| **测试步骤** | 1. 打开API测试工具（如Postman）<br>2. 发送GET请求到 `http://localhost:8080/users`<br>3. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回JSON格式的用户列表<br>3. 至少包含2个用户（admin和operator）<br>4. 每个用户包含userId、username等字段 |

---

### TC-002: 根据ID获取单个用户

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-002 |
| **测试环境** | 开发环境/测试环境，后端服务已启动 |
| **前提条件** | 1. 系统中存在ID为1的用户<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/users/1`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回ID为1的用户详细信息<br>3. 包含用户的所有字段信息 |

---

### TC-003: 创建新用户

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-003 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库连接正常 |
| **测试步骤** | 1. 发送POST请求到 `http://localhost:8080/users`<br>2. 请求体为JSON格式：`{"username":"testuser","password":"test123"}`<br>3. 设置Content-Type为application/json<br>4. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为201 Created<br>2. 返回创建的用户对象<br>3. 用户ID已自动生成<br>4. 可以通过GET请求验证用户已创建 |

---

### TC-004: 更新用户信息

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-004 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的用户<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送PUT请求到 `http://localhost:8080/users/1`<br>2. 请求体为JSON格式：`{"username":"updateduser","password":"newpass123"}`<br>3. 查看响应结果<br>4. 再次发送GET请求验证更新结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回更新后的用户对象<br>3. 用户名已更新为"updateduser"<br>4. 通过GET请求验证更新成功 |

---

### TC-005: 删除用户

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-005 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为2的用户（非admin用户）<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送DELETE请求到 `http://localhost:8080/users/2`<br>2. 查看响应结果<br>3. 发送GET请求验证用户是否已删除 |
| **预期输出** | 1. HTTP状态码为204 No Content<br>2. 响应体为空<br>3. 通过GET请求验证用户已不存在（返回404） |

---

### TC-006: 获取不存在的用户

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-006 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库中不存在ID为9999的用户 |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/users/9999`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为404 Not Found<br>2. 响应体为空或包含错误信息 |

---

## 二、景区管理模块测试用例

### TC-101: 获取所有景区列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-101 |
| **测试环境** | 开发环境/测试环境，后端服务已启动 |
| **前提条件** | 1. 系统已启动并正常运行<br>2. 数据库中已存在景区数据（系统初始化数据包含黄山风景区、宏村景区）<br>3. 能够访问后端API |
| **测试步骤** | 1. 打开浏览器或API测试工具<br>2. 发送GET请求到 `http://localhost:8080/tourist`<br>3. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回JSON格式的景区列表<br>3. 至少包含2个景区<br>4. 每个景区包含touristAttractionId、attractionName、maxCapacity、currentVisitorCount等字段 |

---

### TC-102: 根据ID获取单个景区

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-102 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的景区<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/tourist/1`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回ID为1的景区详细信息<br>3. 包含景区名称、最大容量、当前游客数、停车位等信息 |

---

### TC-103: 创建新景区

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-103 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库连接正常 |
| **测试步骤** | 1. 发送POST请求到 `http://localhost:8080/tourist`<br>2. 请求体为JSON格式，包含景区信息：<br>`{"attractionName":"九华山风景区","maxCapacity":50000,"currentVisitorCount":12000,"parkingSpaces":2000,"usedParkingSpaces":800,"latitude":30.5,"longitude":117.8,"address":"安徽省池州市青阳县"}`<br>3. 设置Content-Type为application/json<br>4. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为201 Created<br>2. 返回创建的景区对象<br>3. 景区ID已自动生成<br>4. 所有字段已正确保存<br>5. 可以通过GET请求验证景区已创建 |

---

### TC-104: 更新景区信息（更新当前游客数）

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-104 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的景区<br>2. 能够访问后端API |
| **测试步骤** | 1. 先发送GET请求获取ID为1的景区信息<br>2. 发送PUT请求到 `http://localhost:8080/tourist/1`<br>3. 请求体更新currentVisitorCount字段为15000<br>4. 查看响应结果<br>5. 再次发送GET请求验证更新结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回更新后的景区对象<br>3. currentVisitorCount已更新为15000<br>4. 通过GET请求验证更新成功 |

---

### TC-105: 删除景区

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-105 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为2的景区（非关键数据）<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送DELETE请求到 `http://localhost:8080/tourist/2`<br>2. 查看响应结果<br>3. 发送GET请求验证景区是否已删除 |
| **预期输出** | 1. HTTP状态码为204 No Content<br>2. 响应体为空<br>3. 通过GET请求验证景区已不存在（返回404） |

---

### TC-106: 前端页面显示景区列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-106 |
| **测试环境** | 开发环境/测试环境，浏览器环境 |
| **前提条件** | 1. 后端服务已启动（http://localhost:8080）<br>2. 前端页面MainMenu.html可访问<br>3. 数据库中已存在景区数据 |
| **测试步骤** | 1. 打开浏览器访问 `frontpage/MainMenu.html`<br>2. 等待页面加载完成<br>3. 查看页面是否显示景区列表<br>4. 检查数据是否正确显示 |
| **预期输出** | 1. 页面正常加载，无JavaScript错误<br>2. 景区列表正确显示<br>3. 每个景区显示名称、当前游客数、停车位等信息<br>4. 数据每5-30秒自动刷新 |

---

## 三、饭店管理模块测试用例

### TC-201: 获取所有饭店列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-201 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统已启动并正常运行<br>2. 数据库中已存在饭店数据（系统初始化数据包含5星和4星酒店）<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/hotel`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回JSON格式的饭店列表<br>3. 至少包含2个饭店<br>4. 每个饭店包含hotelId、hotelName、starRating、maxCapacity、currentOccupancy等字段 |

---

### TC-202: 根据ID获取单个饭店

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-202 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的饭店<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/hotel/1`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回ID为1的饭店详细信息<br>3. 包含饭店名称、星级、最大接待量、当前入住率等信息 |

---

### TC-203: 创建新饭店

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-203 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库连接正常 |
| **测试步骤** | 1. 发送POST请求到 `http://localhost:8080/hotel`<br>2. 请求体为JSON格式：<br>`{"hotelName":"希尔顿酒店","starRating":5,"maxCapacity":500,"currentOccupancy":320,"occupiedRooms":160,"parkingSpaces":300,"usedParkingSpaces":200,"latitude":31.2,"longitude":121.5,"address":"上海市黄浦区"}`<br>3. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为201 Created<br>2. 返回创建的饭店对象<br>3. 饭店ID已自动生成<br>4. 所有字段已正确保存<br>5. 可以通过GET请求验证饭店已创建 |

---

### TC-204: 更新饭店入住率

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-204 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的饭店<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送PUT请求到 `http://localhost:8080/hotel/1`<br>2. 请求体更新currentOccupancy为400，occupiedRooms为200<br>3. 查看响应结果<br>4. 再次发送GET请求验证更新结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回更新后的饭店对象<br>3. currentOccupancy已更新为400<br>4. occupiedRooms已更新为200<br>5. 通过GET请求验证更新成功 |

---

## 四、导游管理模块测试用例

### TC-301: 获取所有导游列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-301 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统已启动并正常运行<br>2. 数据库中已存在导游数据（系统初始化数据包含高级和中级导游）<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/guides`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回JSON格式的导游列表<br>3. 至少包含2个导游<br>4. 每个导游包含guideId、guideName、registrationNumber、registrationStatus、qualificationLevel等字段 |

---

### TC-302: 根据ID获取单个导游

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-302 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的导游<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/guides/1`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回ID为1的导游详细信息<br>3. 包含导游姓名、注册号、注册状态、资格等级、当前位置等信息 |

---

### TC-303: 创建新导游

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-303 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库连接正常 |
| **测试步骤** | 1. 发送POST请求到 `http://localhost:8080/guides`<br>2. 请求体为JSON格式：<br>`{"guideName":"张导游","registrationNumber":"GD2024001","registrationDate":"2024-01-15","registrationStatus":"已注册","qualificationStatus":"已审验","qualificationLevel":"中级","currentLatitude":30.5,"currentLongitude":117.8}`<br>3. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为201 Created<br>2. 返回创建的导游对象<br>3. 导游ID已自动生成<br>4. 所有字段已正确保存<br>5. 可以通过GET请求验证导游已创建 |

---

### TC-304: 更新导游位置信息

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-304 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的导游<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送PUT请求到 `http://localhost:8080/guides/1`<br>2. 请求体更新currentLatitude为31.2，currentLongitude为121.5<br>3. 查看响应结果<br>4. 再次发送GET请求验证更新结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回更新后的导游对象<br>3. GPS坐标已更新<br>4. 通过GET请求验证更新成功 |

---

## 五、旅行社及车辆管理模块测试用例

### TC-401: 获取所有旅行社列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-401 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统已启动并正常运行<br>2. 数据库中已存在旅行社数据（系统初始化数据包含AAAA级和AAA级旅行社）<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/travel-agency`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回JSON格式的旅行社列表<br>3. 至少包含2个旅行社<br>4. 每个旅行社包含agencyId、agencyName、qualificationLevel、creditStatus、creditScore等字段 |

---

### TC-402: 获取所有车辆列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-402 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统已启动并正常运行<br>2. 数据库中已存在车辆数据（系统初始化数据包含3辆旅游车辆）<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/tour-vehicle`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回JSON格式的车辆列表<br>3. 至少包含3辆车辆<br>4. 每个车辆包含vehicleId、licensePlate、vehicleType、seats、currentStatus、currentLatitude、currentLongitude等字段 |

---

### TC-403: 根据旅行社ID获取车辆列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-403 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的旅行社<br>2. 该旅行社下存在车辆数据<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/tour-vehicle/agency/1`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回属于该旅行社的所有车辆列表<br>3. 车辆数据正确关联到旅行社 |

---

### TC-404: 根据状态获取车辆列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-404 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在不同状态的车辆（运行中/停靠）<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/tour-vehicle/status/运行中`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回所有状态为"运行中"的车辆列表<br>3. 列表中所有车辆的状态都是"运行中" |

---

### TC-405: 创建新车辆

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-405 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库中已存在ID为1的旅行社<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送POST请求到 `http://localhost:8080/tour-vehicle`<br>2. 请求体为JSON格式：<br>`{"licensePlate":"皖A12345","vehicleType":"大巴","seats":45,"driverName":"李师傅","currentStatus":"停靠","currentPassengers":0,"currentLatitude":30.5,"currentLongitude":117.8,"travelAgency":{"agencyId":1}}`<br>3. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为201 Created<br>2. 返回创建的车辆对象<br>3. 车辆ID已自动生成<br>4. 所有字段已正确保存<br>5. 车辆已关联到指定的旅行社<br>6. 可以通过GET请求验证车辆已创建 |

---

### TC-406: 更新车辆GPS位置

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-406 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的车辆<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送PUT请求到 `http://localhost:8080/tour-vehicle/1`<br>2. 请求体更新currentLatitude为31.2，currentLongitude为121.5，currentStatus为"运行中"<br>3. 查看响应结果<br>4. 再次发送GET请求验证更新结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回更新后的车辆对象<br>3. GPS坐标已更新<br>4. 车辆状态已更新为"运行中"<br>5. 通过GET请求验证更新成功 |

---

### TC-407: 获取所有电子行程单

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-407 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统已启动并正常运行<br>2. 数据库中已存在电子行程单数据（系统初始化数据包含2个行程单）<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/electronic-itinerary`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回JSON格式的行程单列表<br>3. 至少包含2个行程单<br>4. 每个行程单包含itineraryId、plannedRoute、actualRoute、deviationDistance、status等字段 |

---

### TC-408: 获取偏离行程的行程单

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-408 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在偏离阈值的行程单<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/electronic-itinerary/deviated`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回所有偏离行程的行程单列表<br>3. 列表中所有行程单的deviationDistance都超过阈值 |

---

## 六、告警管理模块测试用例

### TC-501: 获取所有告警规则

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-501 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统已启动并正常运行<br>2. 数据库中已存在告警规则数据（系统初始化数据包含5条告警规则）<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/alert-rule`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回JSON格式的告警规则列表<br>3. 至少包含5条告警规则<br>4. 每个规则包含ruleId、ruleType、threshold、isEnabled等字段 |

---

### TC-502: 创建告警规则

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-502 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库连接正常 |
| **测试步骤** | 1. 发送POST请求到 `http://localhost:8080/alert-rule`<br>2. 请求体为JSON格式：<br>`{"ruleType":"景区容量","threshold":80.0,"description":"景区游客容量超过80%时告警","isEnabled":true}`<br>3. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为201 Created<br>2. 返回创建的告警规则对象<br>3. 规则ID已自动生成<br>4. 所有字段已正确保存<br>5. 可以通过GET请求验证规则已创建 |

---

### TC-503: 获取所有告警报告

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-503 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统已启动并正常运行<br>2. 数据库中已存在告警报告数据（系统初始化数据包含3条告警报告）<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/alert`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回JSON格式的告警报告列表<br>3. 至少包含3条告警报告<br>4. 每个报告包含alertId、alertType、alertLevel、status、alertTime等字段 |

---

### TC-504: 根据状态获取告警报告

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-504 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在不同状态的告警报告（待处理/已处理/已发布）<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/alert/status/待处理`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回所有状态为"待处理"的告警报告列表<br>3. 列表中所有报告的状态都是"待处理" |

---

### TC-505: 根据类型获取告警报告

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-505 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在不同类型的告警报告<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/alert/type/景区容量`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回所有类型为"景区容量"的告警报告列表<br>3. 列表中所有报告的类型都是"景区容量" |

---

### TC-506: 创建告警报告

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-506 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库中已存在ID为1的景区<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送POST请求到 `http://localhost:8080/alert`<br>2. 请求体为JSON格式：<br>`{"alertType":"景区容量","alertLevel":"警告","alertMessage":"黄山风景区游客数量超过阈值","status":"待处理","relatedEntityType":"景区","relatedEntityId":1}`<br>3. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为201 Created<br>2. 返回创建的告警报告对象<br>3. 告警ID已自动生成<br>4. alertTime已自动设置为当前时间<br>5. 所有字段已正确保存<br>6. 可以通过GET请求验证告警已创建 |

---

### TC-507: 处理告警报告（更新状态）

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-507 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的告警报告，状态为"待处理"<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送PUT请求到 `http://localhost:8080/alert/1`<br>2. 请求体更新status为"已处理"，handler为"管理员"，handledTime为当前时间<br>3. 查看响应结果<br>4. 再次发送GET请求验证更新结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回更新后的告警报告对象<br>3. status已更新为"已处理"<br>4. handler和handledTime已更新<br>5. 通过GET请求验证更新成功 |

---

## 七、投诉管理模块测试用例

### TC-601: 获取所有投诉列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-601 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统已启动并正常运行<br>2. 数据库中已存在投诉数据（系统初始化数据包含3条投诉记录）<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/complaint`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回JSON格式的投诉列表<br>3. 至少包含3条投诉记录<br>4. 每个投诉包含complaintId、complaintContent、complaintChannel、complaintTime、status等字段 |

---

### TC-602: 根据状态获取投诉列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-602 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在不同状态的投诉（待处理/处理中/已处理/已关闭）<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/complaint/status/待处理`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回所有状态为"待处理"的投诉列表<br>3. 列表中所有投诉的状态都是"待处理" |

---

### TC-603: 根据被投诉类型获取投诉列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-603 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在针对不同类型实体的投诉（景区/饭店/旅行社/导游/车辆）<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/complaint/complained/景区`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回所有被投诉类型为"景区"的投诉列表<br>3. 列表中所有投诉的被投诉类型都是"景区" |

---

### TC-604: 创建新投诉

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-604 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库中已存在ID为1的景区<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送POST请求到 `http://localhost:8080/complaint`<br>2. 请求体为JSON格式：<br>`{"complaintContent":"景区服务态度差，排队时间过长","complaintChannel":"电话","complainerName":"王先生","complainerPhone":"13800138000","complainerEmail":"wang@example.com","complainedType":"景区","complainedId":1,"complainedName":"黄山风景区","status":"待处理"}`<br>3. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为201 Created<br>2. 返回创建的投诉对象<br>3. 投诉ID已自动生成<br>4. complaintTime已自动设置为当前时间<br>5. 所有字段已正确保存<br>6. 可以通过GET请求验证投诉已创建 |

---

### TC-605: 处理投诉（首问负责制）

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-605 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的投诉，状态为"待处理"<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送PUT请求到 `http://localhost:8080/complaint/1`<br>2. 请求体更新status为"处理中"，firstResponder为"张管理员"，firstResponseTime为当前时间<br>3. 查看响应结果<br>4. 再次发送GET请求验证更新结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回更新后的投诉对象<br>3. status已更新为"处理中"<br>4. firstResponder和firstResponseTime已更新<br>5. 通过GET请求验证更新成功 |

---

### TC-606: 完成投诉处理并记录满意度

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-606 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的投诉，状态为"处理中"<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送PUT请求到 `http://localhost:8080/complaint/1`<br>2. 请求体更新status为"已处理"，processingResult为"已联系景区，承诺改进服务"，satisfactionScore为4，satisfactionComment为"处理及时，态度良好"<br>3. 查看响应结果<br>4. 再次发送GET请求验证更新结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回更新后的投诉对象<br>3. status已更新为"已处理"<br>4. processingResult、satisfactionScore、satisfactionComment已更新<br>5. 通过GET请求验证更新成功 |

---

## 八、诚信档案管理模块测试用例

### TC-701: 获取所有诚信档案列表

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-701 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统已启动并正常运行<br>2. 数据库中已存在诚信档案数据（系统初始化数据包含4条诚信档案）<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/credit-archive`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回JSON格式的诚信档案列表<br>3. 至少包含4条诚信档案<br>4. 每个档案包含archiveId、enterpriseName、enterpriseType、currentCreditLevel、creditScore等字段 |

---

### TC-702: 根据类型获取诚信档案

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-702 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在不同类型的诚信档案（景区/饭店/旅行社）<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/credit-archive/type/旅行社`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回所有类型为"旅行社"的诚信档案列表<br>3. 列表中所有档案的企业类型都是"旅行社" |

---

### TC-703: 根据等级获取诚信档案

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-703 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在不同等级的诚信档案（AAA/AA/A/B）<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/credit-archive/level/AAA`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回所有等级为"AAA"的诚信档案列表<br>3. 列表中所有档案的当前诚信等级都是"AAA" |

---

### TC-704: 创建新诚信档案

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-704 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库连接正常 |
| **测试步骤** | 1. 发送POST请求到 `http://localhost:8080/credit-archive`<br>2. 请求体为JSON格式：<br>`{"enterpriseName":"阳光旅行社","unifiedSocialCreditCode":"91340100MA12345678","enterpriseType":"旅行社","initialCreditLevel":"AA","currentCreditLevel":"AA","creditScore":85,"totalComplaints":5,"resolvedComplaints":4,"unresolvedComplaints":1,"seriousComplaints":0,"processingTimeliness":80.0,"processingSatisfaction":4.2,"violationCount":0,"rewardCount":1}`<br>3. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为201 Created<br>2. 返回创建的诚信档案对象<br>3. 档案ID已自动生成<br>4. 所有字段已正确保存<br>5. 可以通过GET请求验证档案已创建 |

---

### TC-705: 更新诚信档案（重新评价）

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-705 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的诚信档案<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送PUT请求到 `http://localhost:8080/credit-archive/1`<br>2. 请求体更新creditScore为90，currentCreditLevel为"AAA"，evaluationOpinion为"企业表现优秀，投诉处理及时"<br>3. 查看响应结果<br>4. 再次发送GET请求验证更新结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回更新后的诚信档案对象<br>3. creditScore已更新为90<br>4. currentCreditLevel已更新为"AAA"<br>5. evaluationOpinion已更新<br>6. 通过GET请求验证更新成功 |

---

## 九、出境游管理模块测试用例

### TC-801: 获取所有出境游信息

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-801 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统已启动并正常运行<br>2. 数据库中已存在出境游数据（系统初始化数据包含2个出境游申请）<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/outbound-tour`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回JSON格式的出境游列表<br>3. 至少包含2个出境游申请<br>4. 每个申请包含tourId、destination、teamSize、departureDate、visaStatus等字段 |

---

### TC-802: 创建出境游申请

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-802 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库中已存在ID为1的旅行社<br>3. 能够访问后端API |
| **测试步骤** | 1. 发送POST请求到 `http://localhost:8080/outbound-tour`<br>2. 请求体为JSON格式：<br>`{"destination":"日本","teamSize":25,"departureDate":"2024-06-01","returnDate":"2024-06-08","visaStatus":"待审核","travelAgency":{"agencyId":1}}`<br>3. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为201 Created<br>2. 返回创建的出境游对象<br>3. 出境游ID已自动生成<br>4. 所有字段已正确保存<br>5. 已关联到指定的旅行社<br>6. 可以通过GET请求验证申请已创建 |

---

### TC-803: 审核出境游签证（更新状态）

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-803 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统中存在ID为1的出境游申请，visaStatus为"待审核"<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送PUT请求到 `http://localhost:8080/outbound-tour/1`<br>2. 请求体更新visaStatus为"已批准"，visaApprover为"签证官"，visaApprovalDate为当前日期<br>3. 查看响应结果<br>4. 再次发送GET请求验证更新结果 |
| **预期输出** | 1. HTTP状态码为200 OK<br>2. 返回更新后的出境游对象<br>3. visaStatus已更新为"已批准"<br>4. visaApprover和visaApprovalDate已更新<br>5. 通过GET请求验证更新成功 |

---

## 十、前端页面功能测试用例

### TC-901: 登录页面功能测试

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-901 |
| **测试环境** | 开发环境/测试环境，浏览器环境 |
| **前提条件** | 1. 后端服务已启动（http://localhost:8080）<br>2. 前端页面Login.html可访问<br>3. 数据库中已存在用户账户（admin/admin123） |
| **测试步骤** | 1. 打开浏览器访问 `frontpage/Login.html`<br>2. 输入用户名：admin<br>3. 输入密码：admin123<br>4. 点击登录按钮<br>5. 观察页面跳转或提示信息 |
| **预期输出** | 1. 页面正常加载，无JavaScript错误<br>2. 登录表单正常显示<br>3. 输入用户名和密码后，点击登录能够成功<br>4. 登录成功后跳转到主页面或显示成功提示 |

---

### TC-902: 景区管理页面数据加载测试

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-902 |
| **测试环境** | 开发环境/测试环境，浏览器环境 |
| **前提条件** | 1. 后端服务已启动<br>2. 前端页面MainMenu.html可访问<br>3. 数据库中已存在景区数据 |
| **测试步骤** | 1. 打开浏览器访问 `frontpage/MainMenu.html`<br>2. 等待页面加载完成<br>3. 打开浏览器开发者工具（F12）<br>4. 查看Network标签页中的API请求<br>5. 检查页面是否显示景区数据 |
| **预期输出** | 1. 页面正常加载，无JavaScript错误<br>2. 成功发送GET请求到 `/tourist` API<br>3. API返回200状态码<br>4. 页面正确显示景区列表<br>5. 景区信息（名称、游客数、停车位等）正确显示 |

---

### TC-903: 饭店管理页面实时数据刷新测试

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-903 |
| **测试环境** | 开发环境/测试环境，浏览器环境 |
| **前提条件** | 1. 后端服务已启动<br>2. 前端页面HotelManagement.html可访问<br>3. 数据库中已存在饭店数据 |
| **测试步骤** | 1. 打开浏览器访问 `frontpage/HotelManagement.html`<br>2. 记录当前显示的入住率数据<br>3. 通过API更新饭店的入住率<br>4. 等待5-30秒（页面自动刷新间隔）<br>5. 观察页面数据是否自动更新 |
| **预期输出** | 1. 页面正常加载并显示饭店数据<br>2. 页面在设定时间间隔后自动刷新<br>3. 刷新后显示更新后的入住率数据<br>4. 数据更新过程无错误提示 |

---

### TC-904: 告警设定中心页面功能测试

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-904 |
| **测试环境** | 开发环境/测试环境，浏览器环境 |
| **前提条件** | 1. 后端服务已启动<br>2. 前端页面CatiousSystem.html可访问<br>3. 数据库中已存在告警规则和告警报告数据 |
| **测试步骤** | 1. 打开浏览器访问 `frontpage/CatiousSystem.html`<br>2. 查看告警规则列表是否显示<br>3. 查看告警报告列表是否显示<br>4. 检查告警状态筛选功能是否正常<br>5. 测试告警处理操作（如果有） |
| **预期输出** | 1. 页面正常加载，无JavaScript错误<br>2. 告警规则列表正确显示<br>3. 告警报告列表正确显示<br>4. 告警状态筛选功能正常工作<br>5. 告警处理操作能够正常执行 |

---

### TC-905: 投诉中心页面功能测试

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-905 |
| **测试环境** | 开发环境/测试环境，浏览器环境 |
| **前提条件** | 1. 后端服务已启动<br>2. 前端页面TouristsBack.html可访问<br>3. 数据库中已存在投诉数据 |
| **测试步骤** | 1. 打开浏览器访问 `frontpage/TouristsBack.html`<br>2. 查看投诉列表是否显示<br>3. 检查投诉状态筛选功能<br>4. 测试投诉处理操作（如果有）<br>5. 验证满意度评价功能 |
| **预期输出** | 1. 页面正常加载，无JavaScript错误<br>2. 投诉列表正确显示<br>3. 投诉状态筛选功能正常工作<br>4. 投诉处理操作能够正常执行<br>5. 满意度评价功能正常 |

---

## 十一、异常场景测试用例

### TC-1001: API请求缺少必需参数

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-1001 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送POST请求到 `http://localhost:8080/tourist`<br>2. 请求体为空的JSON对象：`{}`<br>3. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为400 Bad Request或500 Internal Server Error<br>2. 返回错误信息，提示缺少必需字段<br>3. 数据未保存到数据库 |

---

### TC-1002: 请求不存在的资源

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-1002 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库中不存在ID为99999的景区 |
| **测试步骤** | 1. 发送GET请求到 `http://localhost:8080/tourist/99999`<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为404 Not Found<br>2. 响应体为空或包含"资源不存在"的错误信息 |

---

### TC-1003: 无效的HTTP方法

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-1003 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 能够访问后端API |
| **测试步骤** | 1. 发送PATCH请求到 `http://localhost:8080/tourist/1`（系统不支持PATCH方法）<br>2. 查看响应结果 |
| **预期输出** | 1. HTTP状态码为405 Method Not Allowed<br>2. 返回错误信息，提示不支持该HTTP方法 |

---

### TC-1004: 数据库连接异常处理

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-1004 |
| **测试环境** | 开发环境/测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 能够手动断开数据库连接 |
| **测试步骤** | 1. 停止MySQL数据库服务<br>2. 发送GET请求到 `http://localhost:8080/tourist`<br>3. 查看响应结果<br>4. 重新启动MySQL数据库服务 |
| **预期输出** | 1. HTTP状态码为500 Internal Server Error<br>2. 返回数据库连接错误信息<br>3. 系统能够优雅地处理异常，不会崩溃 |

---

### TC-1005: 跨域请求测试

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-1005 |
| **测试环境** | 开发环境/测试环境，浏览器环境 |
| **前提条件** | 1. 后端服务已启动（http://localhost:8080）<br>2. 前端页面部署在不同的端口或域名 |
| **测试步骤** | 1. 从不同源（不同端口或域名）的前端页面发送AJAX请求到后端API<br>2. 查看浏览器控制台<br>3. 检查请求是否成功 |
| **预期输出** | 1. 请求成功发送<br>2. 浏览器控制台无CORS错误<br>3. API正常返回数据<br>4. 响应头包含Access-Control-Allow-Origin: * |

---

## 十二、性能测试用例

### TC-1101: 大量数据查询性能测试

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-1101 |
| **测试环境** | 测试环境 |
| **前提条件** | 1. 数据库中已存在大量测试数据（至少1000条记录）<br>2. 系统正常运行<br>3. 使用性能测试工具（如JMeter） |
| **测试步骤** | 1. 使用性能测试工具发送GET请求到 `http://localhost:8080/tourist`<br>2. 设置并发用户数为10<br>3. 执行100次请求<br>4. 记录响应时间、吞吐量等指标 |
| **预期输出** | 1. 所有请求成功返回（HTTP 200）<br>2. 平均响应时间小于2秒<br>3. 95%的请求响应时间小于3秒<br>4. 无错误或超时 |

---

### TC-1102: 并发创建数据测试

| 项目 | 内容 |
|------|------|
| **测试用例序号** | TC-1102 |
| **测试环境** | 测试环境 |
| **前提条件** | 1. 系统正常运行<br>2. 数据库连接正常<br>3. 使用性能测试工具 |
| **测试步骤** | 1. 使用性能测试工具同时发送10个POST请求创建景区<br>2. 每个请求包含不同的景区数据<br>3. 记录响应时间和成功率<br>4. 验证所有数据都正确创建 |
| **预期输出** | 1. 所有请求成功返回（HTTP 201）<br>2. 所有景区数据都正确保存到数据库<br>3. 无数据丢失或重复<br>4. 平均响应时间小于1秒 |

---

## 测试用例统计

- **总测试用例数**: 50+
- **功能测试用例**: 40+
- **异常场景测试用例**: 5
- **性能测试用例**: 2
- **前端页面测试用例**: 5

---

## 测试执行说明

1. **测试顺序**: 建议按照模块顺序执行，先执行基础功能测试，再执行异常场景测试，最后执行性能测试
2. **测试数据**: 系统启动时会自动初始化测试数据，可直接使用
3. **测试工具**: 推荐使用Postman进行API测试，使用浏览器进行前端页面测试
4. **测试记录**: 建议记录每个测试用例的执行结果（通过/失败），并保存测试截图或日志
5. **缺陷管理**: 发现缺陷时应记录详细的复现步骤、预期结果和实际结果

---

**文档版本**: v1.0  
**最后更新**: 2024年12月  
**编写人员**: 测试团队

